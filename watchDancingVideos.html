<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Real Meeter - baza danych interakcji społecznych</title>
        <link rel="stylesheet" href="styles.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
        <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=arrow_forward" />
    </head>
    <body>
        <header>
            Baza danych spotkań
        </header>
        <div class="container">
            <nav class="left-menu">
            </nav>
            <div id="main" style="display: flex; align-items: center;">
                <h3 id="choreoTitle"></h3>
                <iframe style="width: 80%; aspect-ratio: 16 / 9; border: none; border-radius: 10px;"
                id="videoFrame" >
                    
                </iframe>

                <label for="difficulty"><h4>Poziom trudności:</h4></label>
                <input type="range" id="difficultyInput" name="difficulty" min="0" max="100" value="50" style="width: 80%;">
                
                <label for="profficiency"><h4>Poziom opanowania:</h4></label>
                <input type="range" id="profficiencyInput" name="profficiency" min="0" max="100" value="50" style="width: 80%;">
                
                <label for="opinion"><h4>Opinia:</h4></label>
                <input type="range" id="opinionInput" name="opinion" min="0" max="100" value="50" style="width: 80%;">
            </div>

            <aside class="right-menu">
                <!-- Right menu content goes here -->
            </aside>
        </div>
        <footer id="footer">
            Map icons by <a target="_blank" href="https://icons8.com/">icons8.com</a> <br>
            Meeter project by Piotr Szkudlarek
        </footer>
    </body>
    <script src="createLeftMenu.js" ></script>
    <script>
        createLeftMenu()
        async function getRandomVideo() {
            const randomVideoReq = await fetch(`http://localhost:3000/get-random-dancing-video`)
            const randomVideoJson = await randomVideoReq.json()
            const videoLinkInDb = randomVideoJson["link"]

            const videoTitle = randomVideoJson["title"]
            const parts = videoLinkInDb.split("/")
            const videoId = parts[parts.length - 1]

            const linkToEmbed = `https://www.youtube.com/embed/${videoId}`
            
            let iframeElement = document.getElementById("videoFrame")
            iframeElement.setAttribute("src", linkToEmbed)

            let titleElemenet = document.getElementById("choreoTitle")
            titleElemenet.innerText = videoTitle

        }
        getRandomVideo()
    </script>
</html>